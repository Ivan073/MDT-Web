{% extends "base.html"%}
{% block title %}"Отель сайт"{% endblock title %}

{% block body %}
{% include "header.html" %}
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5109477261823287"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block;border:1px solid black;"
     data-ad-client="ca-pub-5109477261823287"
     data-ad-slot="4214414549"
     data-ad-format="auto"
     data-adtest="on"
     data-full-width-responsive="true">
    <p>Google реклама не загружена</p>
</ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2 style="margin: 20px">Последняя статья:</h2>
{%if article%}
    <article>
        <div class="card" style="margin:20px;max-width:100%">
            <div class="card-header display-6">{{article.heading}} </div>
            <div class="card-body">
                {{article.short_data}}
                <a href="article/{{article.id}}"><button class="btn btn-secondary">Читать далее</button></a>
                <br>
                {{article.created_at|date:"Y-m-d"}}
            </div>
        </div>
    </article>
{%else%}
 Статей нет
{%endif%}
<form method="post" action="{% url 'home' %}">{% csrf_token %}
<div class="d-flex" style="gap:3rem; margin:20px; height:30px;">
        <span class="text-secondary">Фильтр:</span>
        <div class="d-flex">
            <input style="max-width:250px" type="text" id="price_filter" name="price_filter" class="form-control me-sm-2" placeholder="Цена (BYN/день)">
            <div class="btn-group" role="group" aria-label="Price group">
              <input type="radio" class="btn-check" name="price_radio" id="price_radio1" autocomplete="off" value="up"  checked>
              <label class="btn btn-outline-secondary" for="price_radio1">
                  <i class="bi bi-arrow-up"></i>
              </label>
              <input type="radio" class="btn-check" name="price_radio" id="price_radio2" autocomplete="off" value="down">
              <label class="btn btn-outline-secondary" for="price_radio2">
                  <i class="bi bi-arrow-down"></i>
              </label>
            </div>
        </div>
        <div class="d-flex">
            <input style="max-width:250px" type="text" id="capacity_filter" name="capacity_filter" class="form-control me-sm-2" placeholder="Вместимость (чел.)">
            <div class="btn-group" role="group" aria-label="Capacity group">
              <input type="radio" class="btn-check" name="capacity_radio" id="capacity_radio1" autocomplete="off" value="up">
              <label class="btn btn-outline-secondary" for="capacity_radio1">
                  <i class="bi bi-arrow-up"></i>
              </label>
              <input type="radio" class="btn-check" name="capacity_radio" id="capacity_radio2" autocomplete="off"value="down">
              <label class="btn btn-outline-secondary" for="capacity_radio2">
                  <i class="bi bi-arrow-down"></i>
              </label>
            </div>
        </div>
        <div class="form-group">
          <select class="form-select-sm text-secondary" id="type-select" name="type">
            <option selected disabled value="">Тип</option>
            <option value="" class="text-black">Любой</option>
            <option value="Luxury" class="text-black">Люкс</option>
            <option value="Half-luxury" class="text-black">Полулюкс</option>
            <option value="Regular" class="text-black">Обычный</option>
          </select>
        </div>
        <div class="d-flex" style="gap:10px">
            <label class="text-secondary">Дата заезда:</label>
            <input class="form-select-sm text-secondary" type="date" name="date" min="{{tomorrow|date:'Y-m-d' }}" max="{{max|date:'Y-m-d' }}">
        </div>

        <button type="submit" class="btn btn-secondary" style="padding-top:2px">Применить</button>
</div>
 </form>

<h2 style="margin: 20px">Доступные комнаты ({{amount}}):</h2>

<div class="d-flex" style="gap: 20px;margin: 20px; flex-wrap:wrap">
  {% for room in rooms%}
  <a href = "rooms/{{room.id}}" style="text-decoration:none;color:black;">
  <div class="card">
    <img src = "{{room.photo.url}}" alt = "Изображение не загружено" style="width:19rem;height:15rem"></img>
      <ol class="breadcrumb">
        <li class="breadcrumb-item">{{room.price}}BYN</li>
        <li class="breadcrumb-item">{{room.capacity}} чел.</li>
        <li class="breadcrumb-item"> {% if room.room_type.name == 'Luxury' %}Люкс
      {% elif room.room_type.name == 'Half-luxury' %}Полулюкс
      {% elif room.room_type.name == 'Regular' %}Обычная
      {%endif%}</li>
      </ol>
  </div>
  </a>
   {% endfor %}
</div>
{% include "footer.html" %}
{% endblock body %}

{% block script %}
    if ( window.history.replaceState ) {
        window.history.replaceState( null, null, window.location.href );
    }
{% endblock script %}
